<div class="bs-docs-section">
    <h1 id="modals" class="page-header">Modals <small>modal.js</small></h1>
    <p>模态框/弹层经过优化后，比以前更加灵活，体积更小，也更加实用</p>
    <div class="bs-callout bs-callout-warning" id="callout-stacked-modals">
        <h4>不支持同时打开多个模态框/弹层</h4>
        <p>在一个模态框/弹层可见的时候请不要打开另外一个，同时展现多个模态框/弹层需要自定义代码。</p>
    </div>
    <div class="bs-callout bs-callout-warning" id="callout-modal-markup-placement">
        <h4>模态框html放置位置</h4>
        <p>尽量把它放置到document的最顶层(紧挨body)，这样可以避免其他组件影响到模态框/弹层的表现或功能。</p>
    </div>
    <div class="bs-callout bs-callout-warning" id="callout-modal-mobile-caveats">
        <h4>移动设备需要注意</h4>
        <p>在移动设备上使用模态框/弹层有一些需要注意的地方，推荐使用移动优先的<a href="http://m.sui.taobao.org/">MSUI</a></p>
    </div>
    <p><strong class="text-danger">由于html5定义了一些语义化的东西<code>autofocus</code> HTML 属性在模态框上并不会产生效果，</strong>如果你想要实现同样的效果，可以使用一些自定义的javascript语句：</p>
    {% highlight js %} $('#myModal').on('shown', function () { $('#myInput').focus() }) {% endhighlight %}
    <h2 id="modals-examples">示例</h2>
    <h3>静态例子</h3>
    <p>下面的模态框/弹层 包括了头，体以及位于底部的按钮</p>
    <div class="bs-example bs-example-modal" data-example-id="static-modal">
        <div class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h5 class="modal-title">Modal title</h5>
                    </div>
                    <div class="modal-body">
                        <p>One fine body&hellip;</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-lg" data-ok="modal">Save changes</button>
                        <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
    </div>
    <!-- /example -->
    {% highlight html %}
    <div class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title">Modal title</h5>
                </div>
                <div class="modal-body">
                    <p>One fine body&hellip;</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-lg" data-ok="modal">Save changes</button>
                    <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    {% endhighlight %}
    <h3>动态例子</h3>
    <p>点击下面的按钮会通过js启动一个模态框/弹层，它将从上至下逐渐出现在页面上。</p>
    <!-- sample modal content -->
    <div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Modal title</h5>
                </div>
                <div class="modal-body">
                    <h4>Text in a modal</h4>
                    <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p>
                    <h4>Popover in a modal</h4>
                    <p>This <a href="#" role="button" class="btn btn-default popover-test" title="A Title" data-content="And here's some amazing content. It's very engaging. right?">button</a> should trigger a popover on click.</p>
                    <h4>Tooltips in a modal</h4>
                    <p><a href="#" class="tooltip-test" title="Tooltip">This link</a> and <a href="#" class="tooltip-test" title="Tooltip">that link</a> should have tooltips on hover.</p>
                    <hr>
                    <h4>Overflowing text to show scroll behavior</h4>
                    <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                    <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
                    <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                    <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
                    <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                    <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-lg" data-ok="modal">Save changes</button>
                    <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <div class="bs-example" style="padding-bottom: 24px;">
        <button type="button" class="btn btn-primary " data-toggle="modal" data-target="#myModal">
            Launch demo modal
        </button>
    </div>
    <!-- /example -->
    {% highlight html %}
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary " data-toggle="modal" data-target="#myModal">
        Launch demo modal
    </button>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Modal title</h5>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-lg" data-ok="modal">Save changes</button>
                    <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    {% endhighlight %}
    <div class="bs-callout bs-callout-warning" id="callout-modal-accessibility">
        <h4>增加模态框的可访问性</h4>
        <p>请务必为 <code>.modal</code> 添加 <code>role="dialog"</code> 和 <code>aria-labelledby="..."</code> 属性，用于指向模态框的标题栏；为 <code>.modal-dialog</code> 添加 <code>aria-hidden="true"</code> 属性。</p>
        <p>此外，你还应该通过 <code>aria-describedby</code> 属性为模态框 <code>.modal</code> 添加描述性的信息。</p>
    </div>
    <h2 id="modals-sizes">可选尺寸</h2>
    <p>模态框/弹层提供了两种可选尺寸，通过为<code>.modal-dialog</code>增加一个样式类可以实现这种效果</p>
    <div class="bs-example">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-lg">大弹层</button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-sm">小弹层</button>
    </div>
    {% highlight html %}
    <!-- Large modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-lg">Large modal</button>
    <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                ...
            </div>
        </div>
    </div>
    <!-- Small modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-sm">Small modal</button>
    <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                ...
            </div>
        </div>
    </div>
    {% endhighlight %}
    <!--  Modal content for the above example -->
    <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myLargeModalLabel">Large modal</h5>
                </div>
                <div class="modal-body">
                    ...
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="mySmallModalLabel">Small modal</h5>
                </div>
                <div class="modal-body">
                    ...
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <h2 id="modals-remove-animation">移除动画效果</h2>
    <p>如果你不需要模态框的动态效果 ，只要删掉<code>.fade</code>样式类就可以了</p>
    {% highlight html %}
    <div class="modal" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
        ...
    </div>
    {% endhighlight %}
    <h2 id="modals-related-target">基于不同触发按钮触发弹层</h2>
    <p>如果使用不同的按钮触发内容差别不大的模态框/弹层,可以使用 <code>event.relatedTarget</code>事件和<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Using_data_attributes">HTML <code>data-*</code>属性</a> (possibly <a href="http://api.jquery.com/data/">via jQuery</a>)</p>
    <div class="bs-example" style="padding-bottom: 24px;">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Open modal for @mdo</button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@fat">Open modal for @fat</button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@twbootstrap">Open modal for @twbootstrap</button>
        ...more buttons...
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="recipient-name" class="control-label">Recipient:</label>
                                <input type="text" class="form-control" id="recipient-name">
                            </div>
                            <div class="form-group">
                                <label for="message-text" class="control-label">Message:</label>
                                <textarea class="form-control" id="message-text"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-lg" data-ok="modal">Send message</button>
                        <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.modal -->
    </div>
    <!-- /.bs-example -->
    {% highlight html %}
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Open modal for @mdo</button>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@fat">Open modal for @fat</button>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@twbootstrap">Open modal for @twbootstrap</button>
    ...more buttons...
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="recipient-name" class="control-label">Recipient:</label>
                            <input type="text" class="form-control" id="recipient-name">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="control-label">Message:</label>
                            <textarea class="form-control" id="message-text"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-lg" data-ok="modal">Send message</button>
                    <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    {% endhighlight %} {% highlight js %} $('#exampleModal').on('show', function (event) { var button = $(event.relatedTarget) // Button that triggered the modal var recipient = button.data('whatever') // Extract info from data-* attributes // If necessary, you could initiate an AJAX request here (and then do the updating in a callback). // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead. var modal = $(this) modal.find('.modal-title').text('New message to ' + recipient) modal.find('.modal-body input').val(recipient) }) {% endhighlight %}
    <h2 id="modals-usage">使用方法</h2>
    <p>通过 data 属性或 JavaScript 调用模态框插件，可以根据需要动态展示隐藏的内容。模态框弹出时还会为 <code>&lt;body&gt;</code> 元素添加 <code>.modal-open</code> 类，从而覆盖页面默认的滚动行为，并且还会自动生成一个 <code>.modal-backdrop</code> 元素用于提供一个可点击的区域，点击此区域就即可关闭模态框。</p>
    <h3>使用data属性</h3>
    <p>通过js脚本激活一个模态框，需要设置<code>data-toggle="modal"</code>或者<code>data-target="#foo"</code>再或者<code>href="#foo"</code>属性到一个能够触发事件的元素上（比如说一个button） {% highlight html %}
        <button type="button" data-toggle="modal" data-target="#myModal">Launch modal</button>
        {% endhighlight %}
        <h3>使用js</h3>
        <p>通过一行js语句调用id为<code>myModal</code> 的模态框：</p>
        {% highlight js %}$('#myModal').modal(options){% endhighlight %}
        <h3 id="modals-options">可选项</h3>
        <p>可选项可以通过data属性或者js脚本添加。如果使用data属性，要将其命名为<code>data-</code>的形式，例如<code>data-backdrop=""</code>.</p>
        <div class="table-responsive">
            <pre><code>
   /* 弹层静态方法，用于很少重复，不需记住状态的弹层，可方便的直接调用，最简单形式就是$.alert('我是alert') 或$.confirm('我是confirm') 或 $.confirm(options)
   * 若弹层内容是复杂的Dom结构， 建议将弹层html结构写到模版里，用$(xx).modal(options) 或无js的方式调用
   *
   * example
   * 一下参数均可以data-xx 的形式在无js调用模式里配置在html模板.modal元素的data属性里(有些属性如okbtn cancelbtn没必要这么用，直接改html模板就行了)
   * $.alert({
   *  title: '自定义标题'
   *  body: 'html' // 必填
   *  okbtn : '好的'
   *  cancelbtn : '雅达'
   *  closebtn: true
   *  keyboard: true   是否可由esc按键关闭
   *  backdrop: true   决定是否为模态对话框添加一个背景遮罩层。另外，该属性指定'static'时，表示添加遮罩层，同时点击模态对话框的外部区域不会将其关闭。
   *  bgcolor : '#123456'  背景遮罩层颜色
   *  width: {number|string(px)|'small'|'normal'|'large'}推荐优先使用后三个描述性字符串，统一样式
   *  timeout: {number} 1000    单位毫秒ms ,dialog打开后多久自动关闭
   *  transition: {Boolean} 是否以动画弹出对话框，默认为true。HTML使用方式只需把模板里的fade的class去掉即可
   *  hasfoot: {Boolean}  是否显示脚部  默认true
   *  remote: {string} 如果提供了远程url地址，就会加载远端内容,之后触发loaded事件
   *  show:     fn --------------function(e) {}
   *  shown:    fn
   *  hide:     fn
   *  hidden:   fn
   *  okHide:   function(e) {alert('点击确认后、dialog消失前的逻辑,
   *            函数返回true（默认）则dialog关闭，反之不关闭;若不传入则默认是直接返回true的函数
   *            注意不要人肉返回undefined！！')}
   *  okHidden: function(e) {alert('点击确认后、dialog消失后的逻辑')}
   *  cancelHide: fn
   *  cancelHidden: fn
   * })
   *
   */
    </code></pre>
        </div>
        <!-- /.table-responsive -->
        <h3 id="modals-methods">方法</h3>
        <h4>.modal(options)</h4>
        <p>将页面中的某块内容作为模态框激活。接受可选参数<code>object</code>.</p>
        {% highlight js %} $('#myModal').modal({ keyboard: false }) {% endhighlight %}
        <h4>.modal('toggle')</h4>
        <p>手动打开或关闭模态框。<strong>在模态框显示或隐藏之前返回到调用函数中</strong>（也就是，在触发 <code>shown.bs.modal</code> 或 <code>hidden.bs.modal</code> 事件之前）。</p>
        {% highlight js %}$('#myModal').modal('toggle'){% endhighlight %}
        <h4>.modal('show')</h4>
        <p>手动打开模态框。<strong>在模态框显示之前返回到调用函数中</strong> （也就是，在触发 <code>shown.bs.modal</code> 事件之前）。</p>
        {% highlight js %}$('#myModal').modal('show'){% endhighlight %}
        <h4>.modal('hide')</h4>
        <p>手动隐藏模态框。<strong>在模态框隐藏之前返回到调用函数中</strong> （也就是，在触发 <code>hidden.bs.modal</code> 事件之前）。</p>
        {% highlight js %}$('#myModal').modal('hide'){% endhighlight %}
        <h4>.modal('okHide')</h4>
        <p>手动关闭弹层并触发okHide逻辑. <strong>在模态框隐藏之前返回到调用函数中</strong> (i.e. before the <code>hidden</code> event occurs).</p>
        {% highlight js %}$('#myModal').modal('okHide'){% endhighlight %}
        <h4>.modal('handleUpdate')</h4>
        <p>执行一次自适应。用于弹层高度发生变化时。(当浏览器窗口resize时会自动自适应)</p>
        {% highlight js %}$('#myModal').modal('handleUpdate'){% endhighlight %}
        <h3 id="modals-events">事件</h3>
        <p>模态框暴露了一些事件可以用于监听并执行你自己的代码。</p>
        <div class="table-responsive">
            <table class="table table-bordered table-striped bs-events-table">
                <thead>
                    <tr>
                        <th style="width: 150px;">事件类型</th>
                        <th>描述</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>show</td>
                        <td>当<code>show</code>实例方法被调用时，事件会立即执行. 如果是通过click事件调用的，click的那个元素的<code>relatedTarget</code>属性将是可用的</td>
                    </tr>
                    <tr>
                        <td>shown</td>
                        <td>这个事件将会在模态框对用户可见时被调用（css动画结束后）如果是通过click事件调用的，click的那个元素的<code>relatedTarget</code>属性将是可用的</td>
                    </tr>
                    <tr>
                        <td>hide</td>
                        <td>事件将在<code>hide</code>实例方法被调用后执行.</td>
                    </tr>
                    <tr>
                        <td>hidden</td>
                        <td>事件会在模态框对用户不可见（css动画结束）后调用</td>
                    </tr>
                    <tr>
                        <td>okHide</td>
                        <td>事件会在调用了<code>hide</code> 实例方法后执行.其他不变，不过是点击了“确认”按钮时执行的回调，返回false可阻止弹层关闭</td>
                    </tr>
                    <tr>
                        <td>okHidden</td>
                        <td>事件在模态框对用户不可见（css动画结束）后执行，点击“确认”按钮后弹层已经关闭后的回调</td>
                    </tr>
                    <tr>
                        <td>loaded</td>
                        <td><code>new</code> 事件将会在模态框使用 <code>remote</code> 参数加载完内容后被调用</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- /.table-responsive -->
        {% highlight js %} $('#myModal').on('hidden', function (e) { // do something... }) {% endhighlight %}
        <h3 id="modals-shortcat">快捷方式</h3>
        <p>我们为常用的两种对话框 <code>$.alert</code> 和 <code>$.confirm</code>建立了快捷方式。使用方式如下所示:</p>
        {% highlight js %} //弹出一条消息 $.alert("消息内容"); //弹出一条消息并设置回调 $.alert("这里消息内容", function() { //关闭alert的回调 }); //弹出一条消息，同时设置了消息标题，消息内容，和回调函数 $.alert("消息标题", "这是消息内容", function() { //关闭alert的回调 }); //显示一个确认框 $.confirm("这是消息内容", function() { //这里是点击确定按钮的回调 }, function() { //这里是点击取消按钮的回调 }); $.confirm("消息标题", "这是消息内容", function() { //这里是点击确定按钮的回调 }, function() { //这里是点击取消按钮的回调 }); {% endhighlight %}
</div>
